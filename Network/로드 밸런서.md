## 대규모 트래픽에 대처할 수 있는 방법?
- 수천만, 수억명의 대규모 인원이 서버에 동시 접속하면 서버는 부하를 감당하지 못할 수 있다.
- 이를 해결하는 방식에는 서버의 성능을 높이는 Scale-up 방식과 여러 서버를 두는 Scale-out 방식이 있다.
- 대부분의 서비스는 서버의 성능을 높이는 Scale-up 작업은 한계가 있으므로 분산 처리를 위해 여러대의 서버를 두는 Scale-out 작업을 하게 된다.
- 이 때, 여러 서버들로 대규모의 네트워크 트래픽을 분산 처리 하는 기술을 로드 밸런싱이라고 지칭한다.

## 로드 밸런싱
- 네트워크 또는 서버에 가해지는 부하를 분산해주는 기술을 의미한다.

## 로드 밸런서
- 로드 밸런싱 기술을 제공하는 서비스 또는 장치를 로드 밸런서 또는 LB라 부른다.
- LB는 특정 서버에 부하가 집중되지 않도록 트래픽을 다양한 방법으로 분산하여 서버들의 성능을 최적인 상태로 유지할 수 있게 한다.

## 로드 밸런서의 기본 성능은?
- 서버의 이상 유무를 파악하는 상태 확인 (Health Check)
- 패킷을 캡슐화해서 연결된 상호 간에만 패킷을 구별할 수 있게 해주는 터널링 (Tunneling)
- IP 주소를 변환해주는 NAT 기능이 있다.

## 로드 밸런서의 종류?
- OSI 7 Layer 기준으로 어떻게 부하를 분산하는 지에 따라 종류가 나뉜다.
- 그 중, L4 로드 밸런서와 L7 로드 밸런서가 가장 많이 활용된다.

## L4 로드 밸런서
- L4계층에서 동작하며, 네트워크 계층이나 Transport 계층의 정보를 바탕으로 트래픽을 분산한다.
- IP 주소, 포트 번호, mac 주소, 전송 프로토콜에 따라 트래픽을 분산 처리하는 것이 가능하다.

## 라운드 로빈 (Round Robin)
- 요청이 들어오는 대로 서버마다 균등하게 요청을 분배한다.
- 단순히 순서에 따라 세션을 할당하므로 경우에 따라 경로 별로 같은 처리량이 보장되지 않는다.

## L7 로드 밸런서
- L4 로드 밸런서의 기능을 포함하며 애플리케이션 계층의 정보를 바탕으로도 분산 처리가 가능하다.
- HTTP 헤더, 쿠키 등과 같은 사용자의 요청을 기반으로 특정 서버에 트래픽을 분산할 수 있다.

## 로드 밸런서가 장애를 대비하는 방법
- 로드 밸런서는 갑작스러운 장애에 대비해 이중화를 기본으로 구성한다.
- 이중화된 로드 밸런서들은 서로의 상태를 확인하여 장애가 발생하면 정상적으로 작동하는 로드 밸런서로 교체된다.

## 로드 밸런싱에 사용되는 알고리즘에 대해 설명
- L4
    - 라운드 로빈, 가중치 할당 방식, 최소 연결, 응답 시간, 해시 가반, 대역폭 기반 등으로 특정 서버에 요청을 분배할 수 있다.
- L7
    - L4 로드 밸런서에 사용되는 방식 뿐만 아니라, URL 스위칭 방식, 컨텍스트 스위치 방식, 쿠키 지속성 방식 등이 있다.